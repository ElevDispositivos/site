<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO Essencial -->
    <meta name="description" content="A ELEV Dispositivos oferece soluções robustas para elevação de máquinas agroindustriais, logísticas, construção civil e cargas pesadas, com tecnologia e segurança.">
    <meta name="keywords" content="elevadores industriais, equipamentos de elevação, soluções agroindustriais, logística, construção civil, cargas pesadas, guindastes, plataformas elevatórias, empilhadeiras, macacos hidráulicos, dispositivo de elevação, macacos de elevação, elevação de cargas, elevação de tratores, elevação de colheitadeiras, soluções de peso para o agro ">
    <meta name="author" content="ELEV Dispositivos">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.elevdispositivos.com.br/">

    <!-- Open Graph para redes sociais -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ELEV Dispositivos">
    <meta property="og:title" content="ELEV Dispositivos | Soluções em Elevação para agroindústria, logística e construção civil.">
    <meta property="og:description" content="Conheça os equipamentos da ELEV Dispositivos para elevação de máquinas e cargas pesadas nos setores agroindustrial, logístico e de construção civil.">
    <meta property="og:image" content="https://www.elevdispositivos.com.br/midias/og-image.png">
    <meta property="og:url" content="https://www.elevdispositivos.com.br/">

    <!-- Comentário sobre o desenvolvimento -->
    <!-- Site desenvolvido por FOSSIO FORCE - https://fossioforce.com.br -->
    <!-- Desenvolvedor - Fossio -->

    <title>Manutenção preventiva em tratores: 5 procedimentos essenciais - ELEV Dispositivos</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/blog-tecnico/blog-tecnico.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="/midias/favicon-120x120.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <style>
        .post-featured-image img {
            width: 100%; /* Largura total do contêiner */
            height: auto; /* Altura automática para manter a proporção */
            max-height: 675px; /* Limite a altura máxima */
            object-fit: cover; /* Cobre o contêiner sem distorcer a imagem */
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="/">
                    <img src="/midias/200x60 elev.png" alt="ELEV Dispositivos" width="260" height="50">
                </a>
            </div>
            <nav>
                <ul class="desktop-menu">
                    <li><a href="/">Início</a></li>
                    <li><a href="/dispositivos">Dispositivos</a></li>
                    <li><a href="/sobre">Sobre Nós</a></li>
                    <li><a href="/contato">Contato</a></li>
                </ul>
                <div class="mobile-menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
        <div class="mobile-menu">
            <ul>
                <li><a href="/">Início</a></li>
                <li><a href="/dispositivos">Dispositivos</a></li>
                <li><a href="/sobre">Sobre Nós</a></li>
                <li><a href="/contato">Contato</a></li>
                <li><a href="/blog-tecnico">Blog Técnico</a></li>
                <li><a href="/trabalhe-conosco">Trabalhe Conosco</a></li>
            </ul>
        </div>
    </header>

    <main>
        <article class="blog-post">
            <div class="container">
                <div class="post-header">
                    <span class="post-category" id="post-category"></span>
                    <h1 id="post-title"></h1>
                    <div class="post-meta">
                        <span class="post-date" id="post-date"></span> | 
                        <span class="post-author" id="post-author"></span>
                    </div>
                </div>
                
                <div class="post-featured-image" id="post-image"></div>
                <div class="post-content" id="post-content"></div>
            </div>
        </article>
        
        <section class="cta">
            <div class="container">
                <h2>Precisa de dispositivos de elevação seguros para a manutenção do seu trator?</h2>
                <p>Conheça nossa linha de produtos com tecnologia exclusiva TRAVA JACARÉ®</p>
                <div class="cta-buttons">
                    <a href="/dispositivos/" class="btn btn-primary">Ver dispositivos</a>
                    <a href="/contato/" class="btn btn-secondary">Fale com um especialista</a>
                </div>
            </div>
        </section>

        <div class="featured-post-wrapper"></div>
        <div class="post-grid"></div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="/midias/JAF.png" alt="JAF Indústria e comércio LTDA" width="151" height="60" />
                    <p>Soluções de elevação com segurança e tecnologia</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h3>Produtos</h3>
                        <ul>
                            <li><a href="/dispositivos/">Série Tratores</a></li>
                            <li><a href="/dispositivos/">Série Colhedeiras</a></li>
                            <li><a href="/dispositivos/">Série Pulverizadores</a></li>
                            <li><a href="/dispositivos/">Série Veículos</a></li>
                            <li><a href="/dispositivos/">Série Indústria</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Empresa</h3>
                        <ul>
                            <li><a href="/sobre/">Sobre Nós</a></li>
                            <li><a href="/contato/">Contato</a></li>
                            <li><a href="/trabalhe-conosco/">Trabalhe Conosco</a></li>
                            <li><a href="/blog-tecnico/">Blog Técnico</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Contato</h3>
                        <ul class="contact-info">
                            <li><i class="fas fa-phone"></i> (51) 99239-9960</li>
                            <li><i class="fas fa-envelope"></i> contato@elevdispositivos.com.br</li>
                            <li><i class="fas fa-map-marker-alt"></i> RS 342 Km 1 n⁰45 - Bairro Industrial II - Horizontina/RS</li>
                        </ul>
                        <div class="social-links">
                            <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                            <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 ELEV Dispositivos. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Configuração do Supabase
        const supabaseUrl = 'https://pvlobuvyblzcielydbum.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB2bG9idXZ5Ymx6Y2llbHlkYnVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU5NTExMjcsImV4cCI6MjA2MTUyNzEyN30.o4VBtpt5wHLj7j-RpcHGYgh6eogCpMnp9jDJM4yecMw'; // Mantenha sua chave aqui
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        document.addEventListener('DOMContentLoaded', async function() {
            const params = new URLSearchParams(window.location.search);
            const slug = params.get('slug'); // Obtém a slug da URL

            if (!slug) {
                console.error('Slug não encontrado na URL.');
                return;
            }

            // Função para buscar o post pela slug
            async function fetchPostBySlug(slug) {
                const { data, error } = await supabase
                    .from('view_posts_blog')
                    .select('*')
                    .eq('slug', slug)
                    .single(); // Busca um único post

                if (error) {
                    console.error('Erro ao buscar post:', error);
                    return null;
                }
                return data;
            }

            // Renderiza o post
            async function renderPost() {
                const post = await fetchPostBySlug(slug);
                if (!post) {
                    document.getElementById('post-content').innerHTML = '<p>Post não encontrado.</p>';
                    return;
                }

                // Preenche os elementos do post
                document.getElementById('post-title').innerText = post.titulo || 'Título não disponível';
                document.getElementById('post-category').innerText = post.categoria || 'Categoria não disponível';
                document.getElementById('post-date').innerText = new Date(post.publicado_em).toLocaleDateString('pt-BR') || 'Data não disponível';
                document.getElementById('post-author').innerText = post.autor || 'Autor não disponível';
                document.getElementById('post-image').innerHTML = `<img src="${post.url_img || '/midias/elev-fallback-blog.png'}" alt="${post.titulo}">`;
                
                // Use innerHTML para manter a formatação HTML
                const postContent = post.conteudo || 'Conteúdo não disponível';
                
                // Verificando se o conteúdo já é HTML válido
                if (postContent.includes('<') && postContent.includes('>')) {
                    // Já parece conter tags HTML, então inserimos diretamente
                    document.getElementById('post-content').innerHTML = postContent;
                } else {
                    // Se não for HTML, convertemos quebras de linha em tags <p> e <br>
                    const formattedContent = postContent
                        .split(/\n{2,}/) // Divide em parágrafos com base em quebras de linha duplas
                        .map(paragraph => paragraph.trim())
                        .filter(paragraph => paragraph)
                        .map(paragraph => `<p>${paragraph.replace(/\n/g, '<br>')}</p>`) // Substitui quebras de linha simples por <br>
                        .join('');
                    
                    document.getElementById('post-content').innerHTML = formattedContent;
                }
            }

            renderPost();
        });

        // Função para renderizar posts
        function renderPosts(posts) {
            const postGrid = document.querySelector('.post-grid');
            postGrid.innerHTML = ''; // Limpa posts existentes

            posts.forEach(post => {
                const postCard = document.createElement('div');
                postCard.className = 'post-card';
                postCard.setAttribute('data-category', post.categoria);
                const imgUrl = post.url_img || '../midias/elev-fallback-blog.png'; // Imagem de fallback

                postCard.innerHTML = `
                    <div class="post-image">
                        <img src="${imgUrl}" alt="${post.titulo}" style="width:100%; height:180px; object-fit:cover;">
                    </div>
                    <div class="post-content">
                        <span class="post-category">${post.categoria}</span>
                        <h3>${post.titulo}</h3>
                        <p class="post-meta">
                            <span class="post-date">${new Date(post.publicado_em).toLocaleDateString()}</span>
                        </p>
                        <p class="post-excerpt">${post.conteudo.substring(0, 100)}...</p>
                        <a href="blog-post?slug=${post.slug}" class="read-more">Ler mais</a>
                    </div>
                `;
                postGrid.appendChild(postCard);
            });

            console.log('Posts renderizados:', posts);
        }
    </script>
</body>
</html>
